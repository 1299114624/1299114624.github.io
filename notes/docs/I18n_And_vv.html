<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>国际化 i18n 与表单验证 vee-validate | 个人网站</title>
    <meta name="description" content="叶硕强">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.ab6b4e78.css" as="style"><link rel="preload" href="/assets/js/app.a3cdd393.js" as="script"><link rel="preload" href="/assets/js/15.3bd169c9.js" as="script"><link rel="prefetch" href="/assets/js/10.d445be6b.js"><link rel="prefetch" href="/assets/js/11.075a3790.js"><link rel="prefetch" href="/assets/js/12.2618d608.js"><link rel="prefetch" href="/assets/js/13.7da82bce.js"><link rel="prefetch" href="/assets/js/14.51d3fe3d.js"><link rel="prefetch" href="/assets/js/16.281586d7.js"><link rel="prefetch" href="/assets/js/17.4f248283.js"><link rel="prefetch" href="/assets/js/18.76eb502e.js"><link rel="prefetch" href="/assets/js/19.2a67beeb.js"><link rel="prefetch" href="/assets/js/2.252269c5.js"><link rel="prefetch" href="/assets/js/20.5eb0207c.js"><link rel="prefetch" href="/assets/js/21.becaa6f3.js"><link rel="prefetch" href="/assets/js/22.99a87c8f.js"><link rel="prefetch" href="/assets/js/23.96f76d35.js"><link rel="prefetch" href="/assets/js/24.6115317a.js"><link rel="prefetch" href="/assets/js/3.8a12d0ca.js"><link rel="prefetch" href="/assets/js/4.ef16e515.js"><link rel="prefetch" href="/assets/js/5.ffaa29cf.js"><link rel="prefetch" href="/assets/js/6.0460041e.js"><link rel="prefetch" href="/assets/js/7.dc971161.js"><link rel="prefetch" href="/assets/js/8.017c52f5.js"><link rel="prefetch" href="/assets/js/9.f8549d35.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab6b4e78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="个人网站" class="logo"> <span class="site-name can-hide">个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/articles/" class="nav-link">妙笔生花</a></div><div class="nav-item"><a href="/yuki/" class="nav-link">yuki控件库专栏</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">开发笔记</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><div class="nav-item"><a href="http://yeshuoqiang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人网站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/1299114624" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/articles/" class="nav-link">妙笔生花</a></div><div class="nav-item"><a href="/yuki/" class="nav-link">yuki控件库专栏</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">开发笔记</a></div><div class="nav-item"><a href="/favorite/" class="nav-link">收藏夹</a></div><div class="nav-item"><a href="http://yeshuoqiang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人网站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/1299114624" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>国际化 i18n 与表单验证 vee-validate</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/notes/docs/I18n_And_vv.html#vee-validate" class="sidebar-link">vee-validate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#代码结构" class="sidebar-link">代码结构</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#main-js" class="sidebar-link">main.js</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#自定义内置规则的错误信息" class="sidebar-link">自定义内置规则的错误信息</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#引入自定义规则" class="sidebar-link">引入自定义规则</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#使用场景" class="sidebar-link">使用场景</a></li></ul></li><li><a href="/notes/docs/I18n_And_vv.html#i18n" class="sidebar-link">i18n</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#代码结构-2" class="sidebar-link">代码结构</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#安装-2" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#main-js-2" class="sidebar-link">main.js</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#zh-js" class="sidebar-link">zh.js</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#en-js" class="sidebar-link">en.js</a></li><li class="sidebar-sub-header"><a href="/notes/docs/I18n_And_vv.html#使用场景-2" class="sidebar-link">使用场景</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="国际化-i18n-与表单验证-vee-validate"><a href="#国际化-i18n-与表单验证-vee-validate" aria-hidden="true" class="header-anchor">#</a> 国际化 i18n 与表单验证 vee-validate</h1> <h2 id="vee-validate"><a href="#vee-validate" aria-hidden="true" class="header-anchor">#</a> vee-validate</h2> <p>(友情链接)[https://www.cnblogs.com/xxwang/p/6104715.html]</p> <p>(官方英文文档)[https://baianat.github.io/vee-validate/]</p> <h3 id="代码结构"><a href="#代码结构" aria-hidden="true" class="header-anchor">#</a> 代码结构</h3> <div class="language- extra-class"><pre class="language-text"><code>├─ main.js
├─ validate
|  ├─ validate.js
|  └─ validateCustomRules.js
</code></pre></div><h3 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h3> <div class="language-sh extra-class"><pre class="language-text"><code>npm install vee-validate --save
</code></pre></div><h3 id="main-js"><a href="#main-js" aria-hidden="true" class="header-anchor">#</a> main.js</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VeeValidate <span class="token keyword">from</span> <span class="token string">'vee-validate'</span>
<span class="token comment">// 自定义内置规则的错误信息</span>
<span class="token keyword">import</span> veeDict <span class="token keyword">from</span> <span class="token string">'./validate/validate'</span>
<span class="token comment">// 引入自定义规则</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>validatorExtend<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./validate/validateCustomRules'</span>
<span class="token function">validatorExtend</span><span class="token punctuation">(</span>VeeValidate<span class="token punctuation">.</span>Validator<span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VeeValidate<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    locale<span class="token punctuation">:</span> curLanguage<span class="token punctuation">,</span>
    dictionary<span class="token punctuation">:</span> veeDict
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="自定义内置规则的错误信息"><a href="#自定义内置规则的错误信息" aria-hidden="true" class="header-anchor">#</a> 自定义内置规则的错误信息</h3> <p>配置文件的 locale 表示 dictionary 对象的属性名，此时 main.js 里的 curLanguage可能是 zh_CN 或者 en_US 这两种</p> <p>validate.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> veeDict <span class="token operator">=</span> <span class="token punctuation">{</span>
    zh_CN<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        messages<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">required</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'该项为必填项'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">min_value</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'该项必须大于等于'</span><span class="token operator">+</span> val<span class="token punctuation">,</span>
            <span class="token function-variable function">max_value</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'该项必须小于等于'</span><span class="token operator">+</span> val<span class="token punctuation">,</span>
            <span class="token function-variable function">between</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'请输入'</span><span class="token operator">+</span> val<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'~'</span> <span class="token operator">+</span> val<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'的整数'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">numeric</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'请输入整数'</span><span class="token punctuation">,</span>
            decimal2<span class="token punctuation">:</span> <span class="token string">'请输入整数或最多两位小数位'</span><span class="token punctuation">,</span>
            numbercommas<span class="token punctuation">:</span> <span class="token string">'请输入整数和半角逗号'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    en_US<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        messages<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">required</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'The value must be entered'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">min_value</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'The value must be greater than or equal to'</span> <span class="token operator">+</span> val<span class="token punctuation">,</span>
            <span class="token function-variable function">max_value</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'The value must be less than or equal to'</span> <span class="token operator">+</span> val<span class="token punctuation">,</span>
            <span class="token function-variable function">between</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'Please input a number between'</span> <span class="token operator">+</span> val<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'to'</span> <span class="token operator">+</span> val<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token function-variable function">numeric</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'Please input an integer'</span><span class="token punctuation">,</span>
            decimal2<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            numbercommas<span class="token punctuation">:</span> <span class="token string">'Please input an integer and commas'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> veeDict
</code></pre></div><h3 id="引入自定义规则"><a href="#引入自定义规则" aria-hidden="true" class="header-anchor">#</a> 引入自定义规则</h3> <p>validateCustomRules.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> rulesArr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'decimal2'</span><span class="token punctuation">,</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> params<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'Something went wrong'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span>\d<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'numbercommas'</span><span class="token punctuation">,</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token parameter">field<span class="token punctuation">,</span> params<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'Something went wrong'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>\d<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">,</span>\d<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">validatorExtend</span> <span class="token operator">=</span> <span class="token parameter">validatorArg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    rulesArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        validatorArg<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>name<span class="token punctuation">,</span> el<span class="token punctuation">.</span>rules<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>validatorExtend<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用场景"><a href="#使用场景" aria-hidden="true" class="header-anchor">#</a> 使用场景</h3> <div class="language-vue extra-class"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>unbi-input<span class="token punctuation">'</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>scope.row.type<span class="token punctuation">'</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>small<span class="token punctuation">'</span></span> 
    <span class="token attr-name">v-validate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span><span class="token punctuation">&quot;</span>required&quot;<span class="token punctuation">'</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>scope.row.id + &quot;type&quot;<span class="token punctuation">'</span></span> <span class="token attr-name">data-vv-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>500<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>errors.has(scope.row.id + &quot;type&quot;)<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>help is-danger db<span class="token punctuation">'</span></span>
    <span class="token punctuation">&gt;</span></span>{{errors.first(scope.row.id + 'type')}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>提醒: 错误信息里面的名称通常就是表单的 name 属性，除非是通过 Vue 实例传递进来的。</p> <p>提醒: 养成好习惯，给每个 field 添加 name 属性，如果没有 name 属性有没有对值进行绑定的话，validator 可能不会对其进行正确的校验</p> <h2 id="i18n"><a href="#i18n" aria-hidden="true" class="header-anchor">#</a> i18n</h2> <h3 id="代码结构-2"><a href="#代码结构-2" aria-hidden="true" class="header-anchor">#</a> 代码结构</h3> <div class="language- extra-class"><pre class="language-text"><code>├─ main.js
├─ lang
|  ├─ zh.js
|  └─ en.js
</code></pre></div><h3 id="安装-2"><a href="#安装-2" aria-hidden="true" class="header-anchor">#</a> 安装</h3> <div class="language-sh extra-class"><pre class="language-text"><code>npm install vue-i18n --save
</code></pre></div><h3 id="main-js-2"><a href="#main-js-2" aria-hidden="true" class="header-anchor">#</a> main.js</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueI18n <span class="token keyword">from</span> <span class="token string">'vue-i18n'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueI18n<span class="token punctuation">)</span>
<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueI18</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    locale<span class="token punctuation">:</span> curLanguage<span class="token punctuation">,</span>
    messages<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'zh_CN'</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lang/zh'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'en_US'</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lang/en'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>如果是多个 app 项目放在一个框架中，可以写一个对象来包含 i18n 的信息</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> CapacityPlanning <span class="token keyword">from</span> <span class="token string">'./CapacityPlan'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
window<span class="token punctuation">.</span>CapacityPlan <span class="token operator">=</span> <span class="token punctuation">{</span>
    i18nMessages<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'zh_CN'</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lang/zh'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'en_US'</span><span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lang/en'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    basePath<span class="token punctuation">:</span> window<span class="token punctuation">.</span>platformBasePath <span class="token operator">+</span> <span class="token string">'NPCapacityPlanningWebsite/'</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>global<span class="token punctuation">.</span>_babelPolyfill<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'babel-polyfill'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> CapacityPlanningParamsSetting <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>CapacityPlanning<span class="token punctuation">,</span>
    store
<span class="token punctuation">}</span>
<span class="token comment">// 组件全局注册</span>
<span class="token keyword">const</span> components <span class="token operator">=</span> <span class="token punctuation">[</span>CapacityPlanningParamsSetting<span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>install<span class="token punctuation">.</span>installed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    components<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">component</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span>name<span class="token punctuation">,</span> component<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">install</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    install<span class="token punctuation">,</span>
    CapacityPlanningParamsSetting
<span class="token punctuation">}</span>
</code></pre></div><h3 id="zh-js"><a href="#zh-js" aria-hidden="true" class="header-anchor">#</a> zh.js</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">CAPACITY</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token constant">CANCEL_SUCCESS</span><span class="token punctuation">:</span> <span class="token string">'取消成功'</span><span class="token punctuation">,</span>
        <span class="token constant">RESET_SUCCESS</span><span class="token punctuation">:</span> <span class="token string">'重置成功'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token constant">JOY</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        next<span class="token punctuation">:</span> <span class="token string">'下一步'</span><span class="token punctuation">,</span>
        previous<span class="token punctuation">:</span> <span class="token string">'上一步'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="en-js"><a href="#en-js" aria-hidden="true" class="header-anchor">#</a> en.js</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">CAPACITY</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token constant">CANCEL_SUCCESS</span><span class="token punctuation">:</span> <span class="token string">'Cancel success'</span><span class="token punctuation">,</span>
        <span class="token constant">RESET_SUCCESS</span><span class="token punctuation">:</span> <span class="token string">'Reset success'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token constant">JOY</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        next<span class="token punctuation">:</span> <span class="token string">'Next'</span><span class="token punctuation">,</span>
        previous<span class="token punctuation">:</span> <span class="token string">'Previous'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用场景-2"><a href="#使用场景-2" aria-hidden="true" class="header-anchor">#</a> 使用场景</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{$t('CAPACITY.BEAR.OPTIONAL_DEVICE_CONFIG')}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>$t(&quot;CAPACITY.BEAR.DEVICE_TYPE_SMP&quot;)<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            subFrameTypeList<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>value<span class="token punctuation">:</span><span class="token string">'MIXED'</span><span class="token punctuation">,</span>name<span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'CAPACITY.BEAR.MIXED'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token punctuation">:</span><span class="token string">'OPTICAL'</span><span class="token punctuation">,</span>name<span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'CAPACITY.BEAR.OPTICAL'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token punctuation">:</span><span class="token string">'ELECTRICAL'</span><span class="token punctuation">,</span>name<span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'CAPACITY.BEAR.ELECTRICAL'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">checkIsSingle</span><span class="token punctuation">(</span><span class="token parameter">scope</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>scope<span class="token punctuation">.</span>row<span class="token punctuation">.</span>levelList<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    showClose<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    title<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'CAPACITY.MAIN.ERROR'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    message<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'CAPACITY.BEAR.AT_MOST_ONE'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    type<span class="token punctuation">:</span> <span class="token string">'error'</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.a3cdd393.js" defer></script><script src="/assets/js/15.3bd169c9.js" defer></script>
  </body>
</html>
